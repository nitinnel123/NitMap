:root {
  --gap: 1rem;
  --radius: 12px;
  --color-departures: oklch(65% 0.15 250); 
  --color-arrivals:  oklch(70% 0.22 50); 
}

* { box-sizing: border-box; }
html, body { margin:0; padding:0; height:100%; }

body {
  font: 100%/1.5 system-ui, sans-serif;
  display:flex;
  flex-direction:column;
  max-width:80rem;
  margin-inline:auto;
  padding:1rem;
  gap:var(--gap);
  background:#fff;
  color:#111;
}

.app-header {
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:var(--gap);
}
.app-header .time-filter { display:flex; align-items:center; gap:.5rem; }
#selected-time { min-width:4ch; text-align:right; }
#any-time { opacity:.7; }

#map {
  position:relative;
  width:100%;
  height:min(75vh,70rem);
  border-radius:16px;
  overflow:hidden;
  box-shadow:0 6px 24px rgba(0,0,0,.12);
}
#map>svg {
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  z-index:1;
  pointer-events:none;
}

#map circle {
  fill: color-mix(
    in oklch,
    var(--color-arrivals) calc(100% * (1 - var(--departure-ratio, 0.5))),
    var(--color-departures) calc(100% * var(--departure-ratio, 0.5))
  );
  fill-opacity:.75;
  stroke:white;
  stroke-width:.5;
  pointer-events:auto;
  transition:fill 0.25s ease, r 0.25s ease;
  filter:drop-shadow(0 0 2px rgba(255,255,255,0.4));
}

.legend {
  display:flex;
  justify-content:center;
  align-items:center;
  gap:2px;
  margin-top:.75rem;
  font-size:.9rem;
  text-align:center;
  user-select:none;
}
.legend.legend--blocks>div {
  flex:1;
  padding:.4rem .75rem;
  border-radius:6px;
  color:#fff;
  font-weight:600;
  background: color-mix(
    in oklch,
    var(--color-arrivals) calc(100% * (1 - var(--departure-ratio))),
    var(--color-departures) calc(100% * var(--departure-ratio))
  );
}

@media (max-width:600px){ .app-header{ flex-wrap:wrap; } }
